HTML
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cherry Beach Cheetahs - Superbowl Squares</title>
    <style>
        :root { 
            --cb-red: #D22027; /* Cherry Beach Red */
            --cb-black: #1A1A1A; 
            --cb-white: #FFFFFF;
            --cb-gray: #F4F4F4;
            --accent-gold: #FFB81C; /* Selection Color */
            --stadium-dark: #0a0a0a; 
        }
        body { 
            font-family: 'Segoe UI', system-ui, sans-serif; 
            background: var(--stadium-dark); 
            margin: 0; 
            padding: 0 0 250px 0; 
            color: var(--cb-white); 
            text-align: center; 
        }
        .hero-section { 
            background: linear-gradient(135deg, var(--cb-black) 0%, #3d0000 100%); 
            color: white; 
            padding: 50px 15px; 
            border-bottom: 6px solid var(--cb-red); 
            box-shadow: 0 10px 30px rgba(0,0,0,0.7); 
        }
        .team-brand { 
            font-weight: 900; 
            color: var(--cb-red); 
            letter-spacing: 4px; 
            font-size: 24px; 
            text-transform: uppercase; 
            margin-bottom: 5px; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .hero-section h1 { 
            font-size: clamp(2rem, 7vw, 3.5rem); 
            margin: 5px 0; 
            font-weight: 900; 
            letter-spacing: 1px; 
            text-transform: uppercase; 
        }
        .container { 
            max-width: 1100px; 
            margin: -35px auto 0 auto; 
            width: 95%; 
            background: var(--cb-white); 
            padding: 35px; 
            border-radius: 12px; 
            box-shadow: 0 25px 50px rgba(0,0,0,0.8); 
            text-align: left; 
            box-sizing: border-box; 
            color: #222; 
        }
        .info-grid { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        @media (max-width: 850px) { .info-grid { grid-template-columns: 1fr; } }
        .info-card { 
            background: var(--cb-gray); 
            padding: 20px; 
            border-radius: 8px; 
            border-left: 5px solid var(--cb-red); 
        }
        .info-card h4 { 
            margin: 0 0 10px 0; 
            font-size: 14px; 
            color: var(--cb-red); 
            text-transform: uppercase; 
        }
        .info-card p { margin: 0; font-size: 13px; line-height: 1.5; font-weight: 600; }
        .etransfer-highlight { 
            display: block; 
            margin-top: 10px; 
            font-weight: 800; 
            color: white; 
            background: var(--cb-black); 
            padding: 8px; 
            border-radius: 4px; 
            text-align: center; 
        }
        .how-to-win-navy { 
            background: var(--cb-black); 
            color: white; 
            padding: 25px; 
            border-radius: 8px; 
            margin-bottom: 25px; 
            border-right: 8px solid var(--cb-red); 
        }
        .how-to-win-navy h4 { margin: 0 0 15px 0; color: var(--cb-red); font-size: 22px; text-transform: uppercase; }
        .axis-list li { margin-bottom: 8px; font-weight: 600; list-style: none; }
        .pot-tracker { 
            display: flex; 
            justify-content: space-around; 
            margin: 25px 0 35px 0; 
            border: 2px solid var(--cb-gray);
            border-radius: 12px;
            padding: 20px 0; 
        }
        .pot-card span { font-size: 32px; font-weight: 900; color: var(--cb-red); }
        .col-banner { 
            width: 90%; 
            margin-left: 10%; 
            background: var(--cb-red); 
            color: white; 
            font-weight: 900; 
            padding: 12px 0; 
            text-align: center; 
            border-radius: 8px 8px 0 0; 
        }
        .row-banner { 
            writing-mode: vertical-rl; 
            transform: rotate(180deg); 
            background: var(--cb-black); 
            color: white; 
            width: 10%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 900; 
            border-radius: 8px 0 0 8px; 
        }
        .grid { 
            display: grid; 
            grid-template-columns: repeat(11, 1fr); 
            gap: 2px; 
            background: #ddd; 
            width: 90%; 
            padding: 4px; 
            box-sizing: border-box; 
        }
        .sq { 
            aspect-ratio: 1; 
            background: white; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: clamp(10px, 2.2vw, 17px); 
            font-weight: 800; 
            cursor: pointer; 
            color: var(--cb-black);
            transition: 0.2s;
        }
        .axis-sq { background: var(--cb-gray); color: var(--cb-red); font-weight: 900; cursor: default; }
        .taken { background: #e0e0e0; color: #aaa; cursor: not-allowed; }
        .selected { background: var(--accent-gold) !important; color: black !important; transform: scale(1.05); z-index: 2; box-shadow: 0 0 10px rgba(0,0,0,0.3); }
        #checkout-bar { 
            position: fixed; 
            bottom: 0; left: 0; right: 0; 
            background: var(--cb-black); 
            color: white; 
            padding: 25px; 
            text-align: center; 
            z-index: 1000; 
            display: none; 
            border-top: 5px solid var(--cb-red); 
        }
        .input-field { padding: 12px; margin: 5px; border-radius: 4px; border: none; width: 42%; min-width: 160px; font-size: 16px; }
        .btn-confirm { 
            background: var(--cb-red); 
            color: white; 
            padding: 15px 40px; 
            border-radius: 4px; 
            font-weight: 900; 
            border: none; 
            cursor: pointer; 
            width: 90%; 
            max-width: 350px; 
            margin-top: 15px; 
            font-size: 18px; 
            text-transform: uppercase;
        }
        #loading-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.9); display: none; 
            flex-direction: column; align-items: center; justify-content: center; 
            z-index: 9999; color: var(--cb-red); font-weight: 800; font-size: 24px; 
        }
    </style>
</head>
<body>

    <div id="loading-overlay">SYNCING BOARD...</div>

    <div class="hero-section">
        <div class="team-brand" id="tpl-team-name">CHERRY BEACH CHEETAHS</div>
        <h1>SUPERBOWL SQUARES</h1>
        <div style="display: flex; justify-content: center; align-items: center; margin-top: 15px;">
            <span id="sync-time" style="font-size: 12px; color: #999;">Connecting...</span>
            <button onclick="loadBoard()" style="background: transparent; border: 1px solid var(--cb-red); color: var(--cb-red); padding: 5px 15px; border-radius: 4px; cursor: pointer; font-size: 11px; margin-left: 10px; font-weight: 700;">REFRESH BOARD</button>
        </div>
    </div>

    <div class="container">
        <div class="info-grid">
            <div class="info-card">
                <h4>‚öΩ RESERVE & PAY</h4>
                <p><b>$<span class="tpl-price">20.00</span> Per Square</b><br><br> 
                1. Select squares on the grid.<br>
                2. Enter Name & Email.<br>
                3. Send e-transfer to:</p>
                <span class="etransfer-highlight" id="tpl-email">cherrybeachcheetahs@gmail.com</span>
            </div>
            <div class="info-card">
                <h4>üèüÔ∏è HOW IT WORKS</h4>
                <p>Numbers 0-9 will be randomly assigned to the axes once the board is full. Your square represents the final digit of each team's score.</p>
            </div>
            <div class="info-card">
                <h4>üèÜ THE PRIZES</h4>
                <p>50% to Cheetahs Development.<br>50% to Payouts.<br><b>Winners every Quarter!</b></p>
            </div>
        </div>

        <div class="how-to-win-navy">
            <h4>üèÖ WINNING COMBINATIONS</h4>
            <ul class="axis-list" style="padding:0;">
                <li>üî¥ <b>Row:</b> Last Digit of <b class="row-team-name">New England Patriots</b></li>
                <li>‚ö™ <b>Column:</b> Last Digit of <b class="col-team-name">Seattle Seahawks</b></li>
            </ul>
        </div>

        <div class="pot-tracker">
            <div class="pot-card"><small>TOTAL PRIZE POOL</small><br><span id="total-pot">$0.00</span></div>
            <div class="pot-card"><small>EACH QUARTER</small><br><span id="quarter-payout">$0.00</span></div>
        </div>

        <div class="game-wrapper">
            <div class="col-banner col-team-name">New England Patriots (COLUMNS)</div>
            <div class="main-row">
                <div class="row-banner row-team-name">Seattle Seahawks (ROWS)</div>
                <div id="game-board" class="grid"></div>
            </div>
        </div>
    </div>

    <div id="checkout-bar">
        <input type="text" id="userName" class="input-field" placeholder="Player Name">
        <input type="email" id="userEmail" class="input-field" placeholder="Email Address">
        <div style="margin-top:10px; font-weight: 700;">Selected: <span id="count" style="color:var(--accent-gold)">0</span> | Total: <span id="checkout-total" style="color:var(--accent-gold)">$0.00</span></div>
        <button onclick="submitBooking()" class="btn-confirm">Reserve Squares</button>
    </div>

    <script>
        const CONFIG = {
            // REPLACE THIS URL with your NEW deployment URL from Apps Script
            SCRIPT_URL: "https://script.google.com/macros/s/AKfycbzqIeHzXI66l7nRy0wH6QH2mwqT70no0BuxBbqHVf5IciUzrhAmn4pIaaT3-Um8-E2eAA/exec",
            TEAM_NAME: "Cherry Beach Cheetahs",
            PAYMENT_EMAIL: "cherrybeachcheetahs@gmail.com",
            SQUARE_PRICE: 20.00,
            ROW_TEAM: "NFC Champion",
            COL_TEAM: "AFC Champion"
        };

        let selectedSquares = [];
        let boardData = {};

        function init() {
            document.getElementById('tpl-team-name').innerText = CONFIG.TEAM_NAME;
            document.getElementById('tpl-email').innerText = CONFIG.PAYMENT_EMAIL;
            document.querySelectorAll('.tpl-price').forEach(el => el.innerText = CONFIG.SQUARE_PRICE.toFixed(2));
            document.querySelectorAll('.row-team-name').forEach(el => el.innerText = CONFIG.ROW_TEAM);
            document.querySelectorAll('.col-team-name').forEach(el => el.innerText = CONFIG.COL_TEAM);
            loadBoard();
        }

        async function loadBoard() {
            const overlay = document.getElementById('loading-overlay');
            overlay.style.display = 'flex';
            try {
                const response = await fetch(`${CONFIG.SCRIPT_URL}?action=getBoard`);
                boardData = await response.json();
                document.getElementById('sync-time').innerText = "Last Updated: " + new Date().toLocaleTimeString();
            } catch (e) { console.error("Sync Error", e); }
            finally {
                renderBoard();
                updateStats();
                overlay.style.display = 'none';
            }
        }

        function renderBoard() {
            const board = document.getElementById('game-board');
            board.innerHTML = '';
            for (let r = 0; r < 11; r++) {
                for (let c = 0; c < 11; c++) {
                    const sq = document.createElement('div');
                    if (r === 0 && c === 0) {
                        sq.className = 'sq axis-sq';
                        sq.innerText = '‚öΩ';
                    } else if (r === 0 || c === 0) {
                        sq.className = 'sq axis-sq';
                        const axisId = r === 0 ? `COL_${c}` : `ROW_${r}`;
                        sq.innerText = boardData[axisId] || '?';
                    } else {
                        const squareId = `R${r}C${c}`;
                        sq.className = 'sq';
                        if (boardData[squareId]) {
                            sq.classList.add('taken');
                            sq.innerText = boardData[squareId].initials || 'X';
                        } else {
                            sq.onclick = () => toggleSquare(sq, squareId);
                            if (selectedSquares.includes(squareId)) sq.classList.add('selected');
                        }
                    }
                    board.appendChild(sq);
                }
            }
        }

        function toggleSquare(element, id) {
            if (selectedSquares.includes(id)) {
                selectedSquares = selectedSquares.filter(s => s !== id);
                element.classList.remove('selected');
            } else {
                selectedSquares.push(id);
                element.classList.add('selected');
            }
            updateCheckoutUI();
        }

        function updateCheckoutUI() {
            const bar = document.getElementById('checkout-bar');
            const count = selectedSquares.length;
            if (count > 0) {
                bar.style.display = 'block';
                document.getElementById('count').innerText = count;
                document.getElementById('checkout-total').innerText = `$${(count * CONFIG.SQUARE_PRICE).toFixed(2)}`;
            } else { bar.style.display = 'none'; }
        }

        function updateStats() {
            const soldCount = Object.keys(boardData).filter(k => k.startsWith('R') && k.includes('C')).length;
            const totalPrizePool = (soldCount * CONFIG.SQUARE_PRICE) * 0.5;
            document.getElementById('total-pot').innerText = `$${totalPrizePool.toFixed(2)}`;
            document.getElementById('quarter-payout').innerText = `$${(totalPrizePool / 4).toFixed(2)}`;
        }

        async function submitBooking() {
            const name = document.getElementById('userName').value.trim();
            const email = document.getElementById('userEmail').value.trim();
            if (!name || !email || selectedSquares.length === 0) return alert("Please fill in Name, Email and select at least one square.");

            const overlay = document.getElementById('loading-overlay');
            overlay.innerText = "RESERVING...";
            overlay.style.display = 'flex';

            const formData = new URLSearchParams();
            formData.append('action', 'reserve');
            formData.append('name', name);
            formData.append('email', email);
            formData.append('squares', JSON.stringify(selectedSquares));

            try {
                await fetch(CONFIG.SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: formData.toString()
                });

                alert("Reservation sent! Please send your e-transfer now to confirm.");
                selectedSquares = [];
                setTimeout(() => { location.reload(); }, 1500); 
            } catch (e) {
                alert("Error saving reservation.");
                overlay.style.display = 'none';
            }
        }

        window.onload = init;
    </script>
</body>
</html>
